var app=angular.module("app",["popupWindow"]);app.controller("baseController",["$scope","$document","$popupWindow","$compile",function(a,e,d,b){a.images=[{src:"img/01.jpg",title:"1 картинка",id:"01"},{src:"img/001.jpg",title:"2 картинка",id:"001"},{src:"img/02.jpg",title:"3 картинка",id:"02"},{src:"img/002.jpg",title:"4 картинка",id:"002"},{src:"img/03.jpg",title:"5 картинка",id:"03"},{src:"img/003.jpg",title:"6 картинка",id:"003"},{src:"img/04.jpg",title:"7 картинка",id:"04"},{src:"img/05.jpg",title:"8 картинка",id:"05"},{src:"img/06.jpg",title:"9 картинка",id:"06"},{src:"img/03.jpg",title:"10 картинка",id:"03"},{src:"img/10.jpg",title:"11 картинка",id:"10"},{src:"img/01.jpg",title:"12 картинка",id:"01"}];var c=a.popup=d.init({scope:a});a.open=function(f){f.preventDefault();var g=f.currentTarget;switch(g.className){case"win-image ng-scope":c.open({el:angular.element(g),winType:"image",dataRequest:{title:"test",description:"ololosha"},beforeContentLoaded:function(h,i){h.dataRequest.description="Это штуковина работает!!!!"},beforePagination:function(h,i){console.log(h)},afterContentLoaded:function(i,j,h){console.log(i)}});break;case"win-image-ajax ng-scope ng-binding":c.open({el:angular.element(g),winType:"ajax",dataRequest:{id:g.getAttribute("name")},beforeContentLoaded:function(h,i){console.log(i)}});break;case"win-html":c.open({el:angular.element(g),winType:"ajax",innerTpl:"tpl/contentTpl.html",dataRequest:{title:"Просто html код",type:"html"}});break;case"win-json":c.open({el:angular.element(g),winType:"ajax",innerTpl:"tpl/jsonTpl.html",dataRequest:{title:"Простой ответ JSON",description:"Полученные значения просто записываются в скоп",type:"json"},userControl:true});break}};c.bind("window:beforePagination",function(h,f,g){c.config.dataRequest.id=f[0].getAttribute("name")});c.bind("window:beforeContentLoaded",function(g,f){});c.bind("window:afterContentLoaded",function(h,f,g){});a.close=function(){c.closeWindow()};a.next=function(){c.getNext()};a.prev=function(){c.getPrev()};a.fullScreen=function(){c.fullScreen()};a.cancelFullScreen=function(){c.cancelFullScreen()};c.bind("window:userControll",function(i,g,h,f){console.log(g);a.winpopup.inner.show=true})}]);