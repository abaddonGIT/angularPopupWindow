var app=angular.module("app",["popupWindow"]);app.controller("baseController",["$scope","$document","$popupWindow",function(a,d,c){a.images=[{src:"img/01.jpg",title:"1 картинка",id:"01"},{src:"img/001.jpg",title:"2 картинка",id:"001"},{src:"img/02.jpg",title:"3 картинка",id:"02"},{src:"img/002.jpg",title:"4 картинка",id:"002"},{src:"img/03.jpg",title:"5 картинка",id:"03"},{src:"img/003.jpg",title:"6 картинка",id:"003"},{src:"img/04.jpg",title:"7 картинка",id:"04"},{src:"img/05.jpg",title:"8 картинка",id:"05"},{src:"img/06.jpg",title:"9 картинка",id:"06"},{src:"img/03.jpg",title:"10 картинка",id:"03"},{src:"img/10.jpg",title:"11 картинка",id:"10"},{src:"img/01.jpg",title:"12 картинка",id:"01"}];var b=a.popup=c.init({scope:a});a.open=function(e){e.preventDefault();var f=e.currentTarget;switch(f.className){case"win-image ng-scope":b.open({el:angular.element(f),winType:"image",dataRequest:{title:"test",description:"ololosha"},beforeContentLoaded:function(g,h){g.dataRequest.description="Это штуковина работает!!!!"},beforePagination:function(g,h){console.log(g)},afterContentLoaded:function(h,i,g){console.log(h)}});break;case"win-image-ajax ng-scope ng-binding":b.open({el:angular.element(f),winType:"ajax",dataRequest:{id:f.getAttribute("name")},beforeContentLoaded:function(g,h){console.log(h)}});break;case"win-html":b.open({el:angular.element(f),winType:"ajax",innerTpl:"tpl/contentTpl.html",dataRequest:{title:"Просто html код",type:"html"}});break;case"win-json":b.open({el:angular.element(f),winType:"ajax",innerTpl:"tpl/jsonTpl.html",dataRequest:{title:"Простой ответ JSON",description:"Полученные значения просто записываются в скоп"}});break}};b.bind("window:beforePagination",function(h,f,g){b.config.dataRequest.id=f[0].getAttribute("name")});b.bind("window:beforeContentLoaded",function(g,f){});b.bind("window:afterContentLoaded",function(h,f,g){});a.close=function(){b.closeWindow()};a.next=function(){b.getNext()};a.prev=function(){b.getPrev()};a.fullScreen=function(){b.fullScreen()};a.cancelFullScreen=function(){b.cancelFullScreen()};b.bind("window:userControll",function(i,g,h,f){console.log(g)})}]);